{"version":3,"sources":["webpack:///./src/components/Pagination/index.tsx","webpack:///./src/templates/Navigation.tsx"],"names":["pagination","css","border","borderBottom","range","items","to","path","key","i","start","end","push","active","page","count","renderRange","getPaginationRange","data","pageContext","location","categories","group","scenarios","edges","fluid","file","childImageSharp","style","position","top","bottom","width","pageTitle","currentPageName","pageDescription","categoryDescription","pageType","image","className","borderLeft","borderRight","borderTop","fontWeight","map","category","fieldValue","kebabCase","type","discoveryFacility","numPages","skip","currentPage","limit","pagePath","itemsPerPage","node","name","fixed","fields","scenarioImage","pageQuery"],"mappings":"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","file":"component---src-templates-navigation-tsx-2307ef7b99eac3ea0e0c.js","sourcesContent":["import React, { ReactElement } from \"react\";\nimport { Link } from \"gatsby\";\nimport Nav from \"../Nav\";\nimport NavItem from \"../NavItem\";\nimport { getPaginationRange } from \"../../utils\";\n\ninterface PaginationProps {\n  itemsPerPage: number;\n  pagination: {\n    count: number;\n    start: number;\n    end: number;\n    page: number;\n    path: string;\n  };\n}\n\nexport default ({ pagination }: PaginationProps): ReactElement => {\n  const renderRange = (range: { start: number; end: number }) => {\n    const items = [\n      <Link to={pagination.path}>\n        <NavItem key=\"pagination-first-page\">First Page</NavItem>\n      </Link>\n    ];\n\n    for (let i = range.start; i <= range.end; i++) {\n      items.push(\n        <Link to={i !== 1 ? `${pagination.path}/${i}` : pagination.path}>\n          <NavItem key={i} active={i === pagination.page}>\n            {i}\n          </NavItem>\n        </Link>\n      );\n    }\n\n    return [\n      ...items,\n      <Link to={`${pagination.path}/${pagination.count}`}>\n        <NavItem key=\"pagination-last-page\">Last Page</NavItem>\n      </Link>\n    ];\n  };\n\n  return (\n    <Nav css={{ border: \"none\", borderBottom: \"1px solid #545454\" }}>\n      {renderRange(getPaginationRange(pagination.page, pagination.count))}\n    </Nav>\n  );\n};\n","import React, { ReactElement, Fragment } from \"react\";\nimport { graphql, Link } from \"gatsby\";\nimport Img from \"gatsby-image\";\nimport kebabCase from \"lodash/kebabCase\";\nimport Nav from \"../components/Nav\";\nimport NavItem from \"../components/NavItem\";\nimport Pagination from \"../components/Pagination\";\nimport Header from \"../components/Header\";\nimport \"./Navigation.less\";\n\ninterface IndexProps {\n  data: {\n    scenarios: {\n      edges: {\n        node: {\n          type: string;\n          discoveryFacility: string;\n          name: string;\n          fields: {\n            scenarioImage: {\n              childImageSharp: {\n                fixed: any;\n              };\n            };\n          };\n        };\n      }[];\n    };\n    file: {\n      childImageSharp: {\n        fluid: any;\n      };\n    };\n    categories: {\n      group: { fieldValue: string }[];\n    };\n  };\n  pageContext: {\n    limit: number;\n    skip: number;\n    discoveryFacility: string;\n    numPages: number;\n    currentPage: number;\n    currentPageName: string;\n    pagePath: string;\n    categoryDescription: string;\n    type: string;\n    pageType: string;\n  };\n  location: any;\n}\n\nexport default ({ data, pageContext, location }: IndexProps): ReactElement => {\n  const categories = data.categories.group;\n  const scenarios = data.scenarios.edges;\n\n  return (\n    <Fragment>\n      <Img\n        fluid={data.file.childImageSharp.fluid}\n        style={{ position: \"fixed\", top: 0, bottom: 0, width: \"100%\" }}\n      />\n      <Header\n        pageTitle={pageContext.currentPageName}\n        pageDescription={pageContext.categoryDescription}\n        location={location}\n        pageType={pageContext.pageType}\n        image={`https://www.gravitysimulator.org/images/social/${pageContext.currentPageName}.jpg`}\n      />\n      <section className=\"scenarios-wrapper\">\n        <nav>\n          <Nav\n            css={{\n              borderLeft: \"none\",\n              borderRight: \"none\",\n              borderTop: \"none\",\n              fontWeight: \"bold\"\n            }}\n          >\n            <Link to={`/`}>\n              <NavItem active={pageContext.currentPageName === \"All\"}>\n                All\n              </NavItem>\n            </Link>\n            <Link to={`/new-scenarios`}>\n              <NavItem active={pageContext.currentPageName === \"New Scenarios\"}>\n                New Scenarios\n              </NavItem>\n            </Link>\n            <Link to={\"/misc/create-new-gravity-simulation\"}>\n              <NavItem>Create New Simulation</NavItem>\n            </Link>\n            {categories.map(category => (\n              <Link\n                to={\n                  category.fieldValue !== \"Exoplanets\"\n                    ? `/${kebabCase(category.fieldValue)}`\n                    : `/${kebabCase(category.fieldValue)}/hall-of-fame`\n                }\n              >\n                <NavItem\n                  active={\n                    kebabCase(pageContext.currentPageName) ===\n                    kebabCase(category.fieldValue)\n                  }\n                >\n                  {category.fieldValue}\n                </NavItem>\n              </Link>\n            ))}\n          </Nav>\n        </nav>\n\n        {pageContext.type === \"Exoplanets\" && (\n          <Nav\n            css={{\n              borderLeft: \"none\",\n              borderRight: \"none\",\n              borderTop: \"none\",\n              fontWeight: \"bold\"\n            }}\n          >\n            <Link to={`/exoplanets/hall-of-fame`}>\n              <NavItem active={pageContext.currentPageName === \"Hall of Fame\"}>\n                Hall of Fame\n              </NavItem>\n            </Link>\n\n            {[\"Transit\", \"Radial Velocity\", \"Imaging\"].map(\n              discoveryFacility => (\n                <Link to={`/exoplanets/${kebabCase(discoveryFacility)}`}>\n                  <NavItem\n                    active={\n                      kebabCase(pageContext.currentPageName) ===\n                      kebabCase(discoveryFacility)\n                    }\n                  >\n                    {discoveryFacility}\n                  </NavItem>\n                </Link>\n              )\n            )}\n          </Nav>\n        )}\n\n        {pageContext.numPages > 1 && (\n          <Pagination\n            pagination={{\n              start: pageContext.skip,\n              end: pageContext.currentPage * pageContext.limit,\n              count: pageContext.numPages,\n              page: pageContext.currentPage,\n              path: pageContext.pagePath\n            }}\n            itemsPerPage={pageContext.limit}\n          />\n        )}\n        <section className=\"navigation-scenarios-title\">\n          <h2>{`${pageContext.currentPageName} Scenarios`}</h2>\n        </section>\n        <div className=\"scenarios-gallery\">\n          {scenarios.map(({ node }) => (\n            <Link to={`/${kebabCase(node.type)}/${kebabCase(node.name)}`}>\n              <div className=\"scenario-link\">\n                <Img fixed={node.fields.scenarioImage.childImageSharp.fixed} />\n                <p className=\"scenario-name\">{node.name}</p>\n              </div>\n            </Link>\n          ))}\n        </div>\n      </section>\n    </Fragment>\n  );\n};\n\nexport const pageQuery = graphql`\n  query($type: String, $limit: Int, $skip: Int, $background: String) {\n    scenarios: allScenariosJson(\n      filter: { type: { eq: $type } }\n      sort: { order: ASC, fields: [sortOrder] }\n      limit: $limit\n      skip: $skip\n    ) {\n      edges {\n        node {\n          type\n          discoveryFacility\n          name\n          pl_pnum\n          fields {\n            scenarioImage {\n              childImageSharp {\n                fixed(width: 250, height: 150) {\n                  ...GatsbyImageSharpFixed\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    categories: allScenariosJson {\n      group(field: type) {\n        fieldValue\n      }\n    }\n    file(relativePath: { eq: $background }) {\n      childImageSharp {\n        fluid(maxWidth: 2000) {\n          ...GatsbyImageSharpFluid\n        }\n      }\n    }\n  }\n`;\n"],"sourceRoot":""}